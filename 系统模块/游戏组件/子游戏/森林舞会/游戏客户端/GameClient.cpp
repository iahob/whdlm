#include "Stdafx.h"
#include "GameClient.h"
#include "GameClientDlg.h"

//应用程序对象
CGameClientApp theApp;

//////////////////////////////////////////////////////////////////////////

//构造函数
CGameClientApp::CGameClientApp()
{

}

//析构函数
CGameClientApp::~CGameClientApp() 
{
}

//创建引擎
CGameFrameEngine * CGameClientApp::GetGameFrameEngine(DWORD dwSDKVersion)
{
	//版本检测
	if (InterfaceVersionCompare(VERSION_FRAME_SDK,dwSDKVersion)==false)
	{
		ASSERT(FALSE);
		return NULL;
	}

	//创建引擎
	CGameClientDlg * pEngine=new CGameClientDlg;
	m_pGameClientDlg=pEngine;
	m_pMainWnd=pEngine;

	return pEngine;
}

BOOL CGameClientApp::OnIdle(LONG lCount)
{
	if(m_pGameClientDlg)
	{
		if( m_pGameClientDlg->IsKindOf( CGameClientDlg::GetThisClass() ) )
		{
			((CGameClientDlg*)m_pGameClientDlg)->OnIdle();
		}
	}
	return TRUE;
}


//////////////////////////////////////////////////////////////////////////
